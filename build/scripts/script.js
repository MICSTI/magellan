var magellan=angular.module("magellan",["ui.router"]);magellan.controller("AppCtrl",["$scope","$state",function(t,e){t.app={config:{title:"Magellan",subtitle:"Test your knowledge about the countries of our world",author:"Michael Stifter"}},t.$on("app.login",function(l,r){t.user=r,e.go("quiz")})}]),angular.module("magellan").factory("FocusSrv",["$timeout","$window",function(t,e){return function(l){t(function(){var t=e.document.getElementById(l);t&&t.focus()})}}]),angular.module("magellan").controller("LoginCtrl",["$scope","UserSrv","FocusSrv",function(t,e,l){t.login=function(l,r){e.login(l,r).then(function(e){t.$emit("app.login",e.data)})["catch"](function(t){console.error(t)})},l("username")}]),angular.module("magellan").config(["$locationProvider","$stateProvider","$urlRouterProvider",function(t,e,l){t.html5Mode(!0),l.otherwise("/home"),e.state("home",{url:"/home",templateUrl:"/build/views/home.partial.html"}).state("quiz",{url:"/quiz",templateUrl:"/build/views/quiz.partial.html"}).state("login",{url:"/login",templateUrl:"/build/views/login.partial.html"}).state("register",{url:"/register",templateUrl:"/build/views/register.partial.html"}).state("about",{url:"/about",templateUrl:"/build/views/about.partial.html"})}]),angular.module("magellan").factory("UserSrv",["$http",function(t){var e=this,l=function(){return t.get("/api/user",{headers:{"X-Auth":e.token}})},r=function(r,o){return t.post("/api/session",{username:r,password:o}).then(function(t){return e.token=t.data,l()})};return{getUser:l,login:r}}]);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyIsImZvY3VzLnNlcnZpY2UuanMiLCJsb2dpbi5jdHJsLmpzIiwicm91dGVzLmpzIiwidXNlci5zZXJ2aWNlLmpzIl0sIm5hbWVzIjpbIm1hZ2VsbGFuIiwiYW5ndWxhciIsIm1vZHVsZSIsImNvbnRyb2xsZXIiLCIkc2NvcGUiLCIkc3RhdGUiLCJhcHAiLCJjb25maWciLCJ0aXRsZSIsInN1YnRpdGxlIiwiYXV0aG9yIiwiJG9uIiwiZXZlbnQiLCJkYXRhIiwidXNlciIsImdvIiwiZmFjdG9yeSIsIiR0aW1lb3V0IiwiJHdpbmRvdyIsImlkIiwiZWxlbWVudCIsImRvY3VtZW50IiwiZ2V0RWxlbWVudEJ5SWQiLCJmb2N1cyIsIlVzZXJTcnYiLCJGb2N1c1NydiIsImxvZ2luIiwidXNlcm5hbWUiLCJwYXNzd29yZCIsInRoZW4iLCJyZXNwb25zZSIsIiRlbWl0IiwiZXJyIiwiY29uc29sZSIsImVycm9yIiwiJGxvY2F0aW9uUHJvdmlkZXIiLCIkc3RhdGVQcm92aWRlciIsIiR1cmxSb3V0ZXJQcm92aWRlciIsImh0bWw1TW9kZSIsIm90aGVyd2lzZSIsInN0YXRlIiwidXJsIiwidGVtcGxhdGVVcmwiLCIkaHR0cCIsInNlbGYiLCJ0aGlzIiwiZ2V0VXNlciIsImdldCIsImhlYWRlcnMiLCJYLUF1dGgiLCJ0b2tlbiIsInBvc3QiXSwibWFwcGluZ3MiOiJBQUFBLEdBQUFBLFVBQUFDLFFBQUFDLE9BQUEsWUFDQSxhQUdBRixVQUFBRyxXQUFBLFdBQUEsU0FBQSxTQUFBLFNBQUFDLEVBQUFDLEdBRUFELEVBQUFFLEtBQ0FDLFFBQ0FDLE1BQUEsV0FDQUMsU0FBQSx1REFDQUMsT0FBQSxvQkFLQU4sRUFBQU8sSUFBQSxZQUFBLFNBQUFDLEVBQUFDLEdBQ0FULEVBQUFVLEtBQUFELEVBR0FSLEVBQUFVLEdBQUEsYUNqQkFkLFFBQ0FDLE9BQUEsWUFDQWMsUUFBQSxZQUFBLFdBQUEsVUFBQSxTQUFBQyxFQUFBQyxHQUNBLE1BQUEsVUFBQUMsR0FLQUYsRUFBQSxXQUNBLEdBQUFHLEdBQUFGLEVBQUFHLFNBQUFDLGVBQUFILEVBRUFDLElBQ0FBLEVBQUFHLGNDWkF0QixRQUNBQyxPQUFBLFlBQ0FDLFdBQUEsYUFBQSxTQUFBLFVBQUEsV0FBQSxTQUFBQyxFQUFBb0IsRUFBQUMsR0FDQXJCLEVBQUFzQixNQUFBLFNBQUFDLEVBQUFDLEdBQ0FKLEVBQUFFLE1BQUFDLEVBQUFDLEdBQ0FDLEtBQUEsU0FBQUMsR0FFQTFCLEVBQUEyQixNQUFBLFlBQUFELEVBQUFqQixRQUhBVyxTQUtBLFNBQUFRLEdBQ0FDLFFBQUFDLE1BQUFGLE1BT0FQLEVBQUEsZUNuQkF4QixRQUFBQyxPQUFBLFlBQ0FLLFFBQUEsb0JBQUEsaUJBQUEscUJBQUEsU0FBQTRCLEVBQUFDLEVBQUFDLEdBRUFGLEVBQUFHLFdBQUEsR0FFQUQsRUFBQUUsVUFBQSxTQUVBSCxFQUNBSSxNQUFBLFFBQ0FDLElBQUEsUUFDQUMsWUFBQSxtQ0FFQUYsTUFBQSxRQUNBQyxJQUFBLFFBQ0FDLFlBQUEsbUNBRUFGLE1BQUEsU0FDQUMsSUFBQSxTQUNBQyxZQUFBLG9DQUVBRixNQUFBLFlBQ0FDLElBQUEsWUFDQUMsWUFBQSx1Q0FFQUYsTUFBQSxTQUNBQyxJQUFBLFNBQ0FDLFlBQUEsdUNDeEJBekMsUUFDQUMsT0FBQSxZQUNBYyxRQUFBLFdBQUEsUUFBQSxTQUFBMkIsR0FDQSxHQUFBQyxHQUFBQyxLQUVBQyxFQUFBLFdBQ0EsTUFBQUgsR0FBQUksSUFBQSxhQUNBQyxTQUFBQyxTQUFBTCxFQUFBTSxVQUlBeEIsRUFBQSxTQUFBQyxFQUFBQyxHQUNBLE1BQUFlLEdBQUFRLEtBQUEsZ0JBQ0F4QixTQUFBQSxFQUNBQyxTQUFBQSxJQUNBQyxLQUFBLFNBQUFDLEdBR0EsTUFGQWMsR0FBQU0sTUFBQXBCLEVBQUFqQixLQUVBaUMsTUFJQSxRQUNBQSxRQUFBQSxFQUNBcEIsTUFBQUEiLCJmaWxlIjoic2NyaXB0LmpzIiwic291cmNlc0NvbnRlbnQiOlsidmFyIG1hZ2VsbGFuID0gYW5ndWxhci5tb2R1bGUoXCJtYWdlbGxhblwiLCBbXHJcbiAgICAndWkucm91dGVyJ1xyXG5dKTtcclxuXHJcbm1hZ2VsbGFuLmNvbnRyb2xsZXIoXCJBcHBDdHJsXCIsIGZ1bmN0aW9uKCRzY29wZSwgJHN0YXRlKSB7XHJcbiAgICAvLyBhcHAgY29uZmlnXHJcbiAgICAkc2NvcGUuYXBwID0ge1xyXG4gICAgICAgIGNvbmZpZzoge1xyXG4gICAgICAgICAgICB0aXRsZTogXCJNYWdlbGxhblwiLFxyXG4gICAgICAgICAgICBzdWJ0aXRsZTogXCJUZXN0IHlvdXIga25vd2xlZGdlIGFib3V0IHRoZSBjb3VudHJpZXMgb2Ygb3VyIHdvcmxkXCIsXHJcbiAgICAgICAgICAgIGF1dGhvcjogXCJNaWNoYWVsIFN0aWZ0ZXJcIlxyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgLy8gLS0tLS0tLS0tLS0gRXZlbnQgaGFuZGxpbmcgLS0tLS0tLS0tLS0tXHJcbiAgICAkc2NvcGUuJG9uKCdhcHAubG9naW4nLCBmdW5jdGlvbihldmVudCwgZGF0YSkge1xyXG4gICAgICAgICRzY29wZS51c2VyID0gZGF0YTtcclxuXHJcbiAgICAgICAgLy8gZ28gdG8gcXVpeiBwYWdlXHJcbiAgICAgICAgJHN0YXRlLmdvKCdxdWl6Jyk7XHJcbiAgICB9KTtcclxufSk7IiwiJ3VzZSBzdHJpY3QnO1xyXG5cclxuYW5ndWxhclxyXG4gICAgLm1vZHVsZSgnbWFnZWxsYW4nKVxyXG4gICAgLmZhY3RvcnkoJ0ZvY3VzU3J2JywgZnVuY3Rpb24oJHRpbWVvdXQsICR3aW5kb3cpIHtcclxuICAgICAgICByZXR1cm4gZnVuY3Rpb24oaWQpIHtcclxuICAgICAgICAgICAgLy8gdGltZW91dCBtYWtlcyBzdXJlIHRoYXQgaXMgaW52b2tlZCBhZnRlciBhbnkgb3RoZXIgZXZlbnQgaGFzIGJlZW4gdHJpZ2dlcmVkLlxyXG4gICAgICAgICAgICAvLyBlLmcuIGNsaWNrIGV2ZW50cyB0aGF0IG5lZWQgdG8gcnVuIGJlZm9yZSB0aGUgZm9jdXMgb3JcclxuICAgICAgICAgICAgLy8gaW5wdXRzIGVsZW1lbnRzIHRoYXQgYXJlIGluIGEgZGlzYWJsZWQgc3RhdGUgYnV0IGFyZSBlbmFibGVkIHdoZW4gdGhvc2UgZXZlbnRzXHJcbiAgICAgICAgICAgIC8vIGFyZSB0cmlnZ2VyZWQuXHJcbiAgICAgICAgICAgICR0aW1lb3V0KGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGVsZW1lbnQgPSAkd2luZG93LmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGlkKTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoZWxlbWVudCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGVsZW1lbnQuZm9jdXMoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfTtcclxuICAgIH0pOyIsIid1c2Ugc3RyaWN0JztcclxuXHJcbmFuZ3VsYXJcclxuICAgIC5tb2R1bGUoJ21hZ2VsbGFuJylcclxuICAgIC5jb250cm9sbGVyKCdMb2dpbkN0cmwnLCBmdW5jdGlvbigkc2NvcGUsIFVzZXJTcnYsIEZvY3VzU3J2KSB7XHJcbiAgICAgICAgJHNjb3BlLmxvZ2luID0gZnVuY3Rpb24odXNlcm5hbWUsIHBhc3N3b3JkKSB7XHJcbiAgICAgICAgICAgIFVzZXJTcnYubG9naW4odXNlcm5hbWUsIHBhc3N3b3JkKVxyXG4gICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBpbmZvcm0gYXBwbGljYXRpb24gY29udHJvbCBhYm91dCBsb2dpbiBldmVudFxyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS4kZW1pdCgnYXBwLmxvZ2luJywgcmVzcG9uc2UuZGF0YSk7XHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgLmNhdGNoKGZ1bmN0aW9uKGVycikge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gVE9ETzogbm90aWZ5IHVzZXIgYWJvdXQgZXJyb3IgaW4gbG9naW4gcHJvY2Vzc1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgLy8gZm9jdXMgdXNlcm5hbWUgZmllbGRcclxuICAgICAgICBGb2N1c1NydigndXNlcm5hbWUnKTtcclxuICAgIH0pOyIsImFuZ3VsYXIubW9kdWxlKCdtYWdlbGxhbicpXHJcbiAgICAuY29uZmlnKGZ1bmN0aW9uKCRsb2NhdGlvblByb3ZpZGVyLCAkc3RhdGVQcm92aWRlciwgJHVybFJvdXRlclByb3ZpZGVyKSB7XHJcbiAgICAgICAgLy8gZW5hYmxlIEhUTUw1IHB1c2hzdGF0ZVxyXG4gICAgICAgICRsb2NhdGlvblByb3ZpZGVyLmh0bWw1TW9kZSh0cnVlKTtcclxuXHJcbiAgICAgICAgJHVybFJvdXRlclByb3ZpZGVyLm90aGVyd2lzZSgnL2hvbWUnKTtcclxuXHJcbiAgICAgICAgJHN0YXRlUHJvdmlkZXJcclxuICAgICAgICAgICAgLnN0YXRlKCdob21lJywge1xyXG4gICAgICAgICAgICAgICAgdXJsOiAnL2hvbWUnLFxyXG4gICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICcvYnVpbGQvdmlld3MvaG9tZS5wYXJ0aWFsLmh0bWwnXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5zdGF0ZSgncXVpeicsIHtcclxuICAgICAgICAgICAgICAgIHVybDogJy9xdWl6JyxcclxuICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnL2J1aWxkL3ZpZXdzL3F1aXoucGFydGlhbC5odG1sJ1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAuc3RhdGUoJ2xvZ2luJywge1xyXG4gICAgICAgICAgICAgICAgdXJsOiAnL2xvZ2luJyxcclxuICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnL2J1aWxkL3ZpZXdzL2xvZ2luLnBhcnRpYWwuaHRtbCdcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLnN0YXRlKCdyZWdpc3RlcicsIHtcclxuICAgICAgICAgICAgICAgIHVybDogJy9yZWdpc3RlcicsXHJcbiAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJy9idWlsZC92aWV3cy9yZWdpc3Rlci5wYXJ0aWFsLmh0bWwnXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5zdGF0ZSgnYWJvdXQnLCB7XHJcbiAgICAgICAgICAgICAgICB1cmw6ICcvYWJvdXQnLFxyXG4gICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICcvYnVpbGQvdmlld3MvYWJvdXQucGFydGlhbC5odG1sJ1xyXG4gICAgICAgICAgICB9KTtcclxuICAgIH0pOyIsIid1c2Ugc3RyaWN0JztcclxuXHJcbmFuZ3VsYXJcclxuICAgIC5tb2R1bGUoJ21hZ2VsbGFuJylcclxuICAgIC5mYWN0b3J5KCdVc2VyU3J2JywgZnVuY3Rpb24oJGh0dHApIHtcclxuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XHJcblxyXG4gICAgICAgIHZhciBnZXRVc2VyID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAkaHR0cC5nZXQoJy9hcGkvdXNlcicsIHtcclxuICAgICAgICAgICAgICAgIGhlYWRlcnM6IHsgJ1gtQXV0aCc6IHNlbGYudG9rZW4gfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICB2YXIgbG9naW4gPSBmdW5jdGlvbih1c2VybmFtZSwgcGFzc3dvcmQpIHtcclxuICAgICAgICAgICAgcmV0dXJuICRodHRwLnBvc3QoJy9hcGkvc2Vzc2lvbicsIHtcclxuICAgICAgICAgICAgICAgIHVzZXJuYW1lOiB1c2VybmFtZSxcclxuICAgICAgICAgICAgICAgIHBhc3N3b3JkOiBwYXNzd29yZFxyXG4gICAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICBzZWxmLnRva2VuID0gcmVzcG9uc2UuZGF0YTtcclxuXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZ2V0VXNlcigpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICBnZXRVc2VyOiBnZXRVc2VyLFxyXG4gICAgICAgICAgICBsb2dpbjogbG9naW5cclxuICAgICAgICB9XHJcbiAgICB9KTsiXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=
